{
  "meta": {
    "project": "ProctorLess",
    "date": "2025-11-14",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "ProctorLess is a privacy-first, all-in-one smart assessment platform designed to replace invasive proctoring tools with a streamlined, fair, and adaptive online exam system for university professors and students.",
  "core_goals": [
    "Enable professors to easily create and manage courses and quizzes with integrity monitoring.",
    "Provide a stress-free quiz-taking experience for students without intrusive surveillance.",
    "Incorporate AI-assisted grading to reduce manual grading workload for professors.",
    "Ensure exam integrity via privacy-respecting tab switch detection and allowed websites filtering.",
    "Deliver a clean, minimal, and academic user interface that supports desktop-first web usage.",
    "Support user authentication with distinct roles for Professors and Students.",
    "Demonstrate a fully functional prototype covering end-to-end user flows for a university project deadline."
  ],
  "key_features": [
    "User authentication with role-based access controls for Professors and Students.",
    "Course management system with unique join codes for student enrollment.",
    "Quiz creation form allowing upload of question banks and configuration of integrity monitoring and AI grading.",
    "Quiz engine for students to take randomized quizzes with timer buffers and answer autosave.",
    "Privacy-first integrity monitor detecting tab switches and logging events, ignoring allowed websites.",
    "AI-assisted grading button integrated on the results page powered by live AI APIs via a Supabase Edge Function.",
    "Results dashboard showing student submissions, grades, and detailed integrity logs per student.",
    "Profile settings allowing users to update their information and upload avatars.",
    "Middleware and secure server/client Supabase auth utilities to manage access.",
    "Storage buckets for question banks, drafts, grades, and avatars management."
  ],
  "user_flow_summary": [
    "Professor logs in and accesses the dashboard to manage courses and quizzes.",
    "Professor creates a new course, generating a unique join code for student enrollment.",
    "Professor creates a quiz by uploading questions, setting timers, enabling integrity monitor and AI grading options, and defining allowed websites.",
    "Student logs in, joins a course using the join code, and takes the assigned quiz with visible timing UI and tab-switch monitoring.",
    "Integrity monitor logs any tab switching events excluding allowed sites, storing logs in the database connected to student and quiz.",
    "Professor reviews student quiz submissions and integrity logs on the results dashboard.",
    "Professor uses the AI grading button to get AI-generated grades and feedback for essay questions and can override if desired.",
    "Both users can update profiles and avatars through profile settings."
  ],
  "validation_criteria": [
    "Users can register and log in with assigned roles of Professor or Student successfully.",
    "Professors can create courses which generate unique join codes and students can join using those codes.",
    "Professors can create quizzes with all configurable options including question bank upload, timer, integrity monitoring, and allowed websites.",
    "Students receive randomized quiz questions and can submit answers before timeout with autosave functionality.",
    "Tab switch detection correctly logs events except when on allowed websites, storing timestamped records for professor review.",
    "AI-assisted grading button calls a secure API function and displays AI-generated grades and feedback accurately.",
    "Results dashboard displays comprehensive student submission data and integrity logs correctly.",
    "User profile updates including avatar uploads work as intended.",
    "All critical features function seamlessly in the deployed environment, with no demo-blocking bugs detected after repeated end-to-end testing."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 16 App Router",
      "Supabase (Postgres, Auth, Storage)",
      "Tailwind CSS",
      "@google/genai (Gemini)",
      "Sonner (toasts)"
    ],
    "features": [
      {
        "name": "Dashboard Home",
        "description": "Professor/student landing with actions to create quizzes, navigate to quiz editor and student quiz.",
        "files": [
          "app/dashboard/page.tsx",
          "app/dashboard/actions.ts"
        ]
      },
      {
        "name": "Quiz Editor",
        "description": "Edit quiz questions, reorder, delete, set max marks and correct answers. Configure timer buffer/duration.",
        "files": [
          "app/dashboard/quiz/[id]/edit/page.tsx"
        ]
      },
      {
        "name": "Student Quiz",
        "description": "Student takes quiz with 5-minute buffer, optional timer, floating timer UI, input locking, draft answer autosave.",
        "files": [
          "app/dashboard/quiz/[id]/page.tsx",
          "lib/extensionHelper.ts"
        ]
      },
      {
        "name": "Results Dashboard",
        "description": "Professor views submissions, integrity violations, extension URL logs, per-question grading save.",
        "files": [
          "app/dashboard/results/[quizId]/page.tsx"
        ]
      },
      {
        "name": "Profile Settings",
        "description": "User profile and password update, avatar upload to Supabase Storage.",
        "files": [
          "app/profile/page.tsx",
          "components/profile-settings.tsx",
          "components/logout-button.tsx",
          "components/auth-button.tsx"
        ]
      },
      {
        "name": "Gemini & OCR API",
        "description": "Image parsing via Gemini with retry/backoff and OCR fallback; diagnostics and test endpoints.",
        "files": [
          "app/api/gemini/extract/route.ts",
          "app/api/gemini/test/route.ts",
          "app/api/gemini/diag/route.ts",
          "app/api/ocr/parse/route.ts"
        ]
      },
      {
        "name": "Middleware & Auth",
        "description": "Next middleware route allowlist for API testing; Supabase client/server auth utilities.",
        "files": [
          "middleware.ts",
          "lib/supabase/client.ts",
          "lib/supabase/server.ts"
        ]
      },
      {
        "name": "Storage Buckets",
        "description": "Supabase Storage paths used by app: question banks, drafts, grades, avatars.",
        "files": [
          "supabase/migrations",
          "app/dashboard/quiz/[id]/page.tsx",
          "app/dashboard/quiz/[id]/edit/page.tsx"
        ]
      },
      {
        "name": "Integrity Monitor",
        "description": "Tab switch detection and logging; extension URL log correlation to allowed domains.",
        "files": [
          "app/dashboard/quiz/[id]/page.tsx",
          "app/dashboard/results/[quizId]/page.tsx"
        ]
      }
    ]
  }
}
